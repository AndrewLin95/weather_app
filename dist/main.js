(()=>{"use strict";const e=document.querySelector("#unitToggle");let t="Celcius";function n(e){return"Celcius"===t?e-273+"°C":"Fahrenheit"===t?9*(e-273)/5+32+"°F":void 0}function o(){document.getElementById("location").textContent=i().name,function(){const e=Math.round(1*i().main.temp)/1;document.getElementById("mainTemp").textContent=n(e);const t=Math.round(1*i().main.feels_like)/1;document.getElementById("feelsLike").textContent=n(t)}(),document.getElementById("weatherIcon").setAttribute("src",`http://openweathermap.org/img/wn/${i().weather[0].icon}@2x.png`),document.getElementById("description").textContent=` ${i().weather[0].description}`,document.getElementById("humidity").textContent=`${i().main.humidity} %`,document.getElementById("pressure").textContent=`${i().main.pressure} kPa`}e.addEventListener("click",(()=>{"Celcius °C"===e.textContent?(e.textContent="Fahrenheit °F",t="Fahrenheit"):"Fahrenheit °F"===e.textContent&&(e.textContent="Celcius °C",t="Celcius"),o()})),console.log("test");let c="";function i(){return c}document.querySelector("#weatherForm").addEventListener("submit",(()=>{!async function(e){try{const t=await fetch(`http://api.openweathermap.org/geo/1.0/direct?q=${e}&appid=59d8f83c0d0672671941c70c99060910`,{mode:"cors"}),n=await t.json(),i=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${n[0].lat}&lon=${n[0].lon}&appid=59d8f83c0d0672671941c70c99060910`),a=await i.json();c=a,console.log(c),o()}catch(e){console.log(e)}}(document.querySelector("#weatherInput").value.trim())})),document.querySelector("#test").addEventListener("click",(()=>{console.log(i())}))})();